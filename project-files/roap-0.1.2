(defproject roap "0.1.2"
  :description "roap: rest over soap"
  :url "https://bitbucket.org/pragsmike/roap.git"
  :license {:name "Eclipse Public License"
            :url  "http://www.eclipse.org/legal/epl-v10.html"}
  :dependencies [[org.clojure/clojure "1.6.0"]
                 [environ "1.0.0"]
                 [clj-http "1.0.1"]
                 [ring/ring-core "1.3.2"]

                 [com.github.kyleburton/clj-xpath "1.4.4"]
                 [xerces/xercesImpl "2.9.1"]

                 [saacl "0.1.4"]

                 [org.clojure/tools.logging "0.3.0"]
                 [com.taoensso/timbre "3.2.1"]
                 [org.slf4j/slf4j-api "1.7.5"]

                 [log4j
                  "1.2.17"
                  :exclusions
                  [javax.mail/mail
                   javax.jms/jms
                   com.sun.jdmk/jmxtools
                   com.sun.jmx/jmxri]]
                 ]


  :plugins [;[lein-gorilla "0.2.0"]
            [lein-environ "1.0.0"]
            ]

  :profiles
  {
   :uberjar {:aot          :all
             :dependencies [[org.slf4j/slf4j-log4j12 "1.7.5"]]
             }

   :dev     {:dependencies [
                            [midje "1.6.3"]
                            [robert/hooke "1.3.0"]
                            [org.slf4j/slf4j-log4j12 "1.7.5"]
                            ]
             :env          {:dev true }
             :test-paths   ["test-resources"]
                                        ;:hooks [leiningen.plantuml]
             :plugins      [[lein-midje "3.1.3"]
                            [cider/cider-nrepl "0.7.0"]
                            [lein-marginalia "0.7.1"]
                            [lein-plantuml "0.1.3"]]
             :repl-options {:init (use 'midje.repl)}
             :plantuml     [["doc/*.puml" :png "target"]
                            ["presentation/*.txt" :svg]]}})
